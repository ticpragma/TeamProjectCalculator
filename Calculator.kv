#:kivy 2.3.0
<Calculator>:
    orientation: 'horizontal'

    BoxLayout
        orientation: 'vertical'

        BoxLayout:
            orientation: 'vertical'
            size_hint: (1, 3)

            Label:
                size_hint: (0.3, 0.4)
                id: answer_field
                font_size: '17sp'

            Label:
                id: result_field
                font_size: '60sp'
                text: '0'



        BoxLayout:
            size_hint: (1, 0.5)
            orientation: 'horizontal'

            Button:
                font_size: '20sp'
                text: 'MC'
                on_press: root.MC()

            Button:
                font_size: '20sp'
                text: 'MR'
                on_press: root.MR()

            Button:
                font_size: '20sp'
                text: 'M+'
                on_press: root.M_plus()

            Button:
                font_size: '20sp'
                text: 'M-'
                on_press: root.M_minus()



        BoxLayout:
            orientation: 'horizontal'

            Button:
                font_size: '20sp'
                text: '%'

            Button:
                font_size: '20sp'
                text: 'floor'
                on_press: root.floor()

            Button:
                font_size: '20sp'
                text: 'ceil'
                on_press: root.ceil()

            Button:
                font_size: '20sp'
                text: 'del'
                on_press: root.delete()

        BoxLayout:
            orientation: 'horizontal'

            Button:
                font_size: '20sp'
                text: 'sin'
                on_press: root.sin()

            Button:
                font_size: '20sp'
                text: 'х^'
                on_press: root.input_from_user('**', True)

            Button:
                font_size: '20sp'
                text: '√'
                on_press: root.sqrt()

            Button:
                font_size: '20sp'
                text: '÷'
                on_press: root.input_from_user('/', True)

        BoxLayout:
            orientation: 'horizontal'

            Button:
                font_size: '20sp'
                text: '7'
                on_press: root.input_from_user('7', False)

            Button:
                font_size: '20sp'
                text: '8'
                on_press: root.input_from_user('8', False)

            Button:
                font_size: '20sp'
                text: '9'
                on_press: root.input_from_user('9', False)

            Button:
                font_size: '20sp'
                text: '×'
                on_press: root.input_from_user('*', True)

        BoxLayout:
            orientation: 'horizontal'

            Button:
                font_size: '20sp'
                text: '4'
                on_press: root.input_from_user('4', False)

            Button:
                font_size: '20sp'
                text: '5'
                on_press: root.input_from_user('5', False)

            Button:
                font_size: '20sp'
                text: '6'
                on_press: root.input_from_user('6', False)

            Button:
                font_size: '20sp'
                text: '-'
                on_press: root.input_from_user('-', True)

        BoxLayout:
            orientation: 'horizontal'

            Button:
                font_size: '20sp'
                text: '1'
                on_press: root.input_from_user('1', False)

            Button:
                font_size: '20sp'
                text: '2'
                on_press: root.input_from_user('2', False)

            Button:
                font_size: '20sp'
                text: '3'
                on_press: root.input_from_user('3', False)

            Button:
                font_size: '20sp'
                text: '+'
                on_press: root.input_from_user('+', True)

        BoxLayout:
            orientation: 'horizontal'

            Button:
                font_size: '20sp'
                text: 'cos'
                on_press: root.cos()

            Button:
                font_size: '20sp'
                text: '0'
                on_press: root.input_from_user('0', False)

            Button:
                font_size: '20sp'
                text: ','

            Button:
                font_size: '20sp'
                text: '='
                on_press: root.equal_input()


    BoxLayout
        orientation: 'vertical'
        size_hint: (0.5, 1)

        BoxLayout
            orientation: 'horizontal'
            size_hint: (1, 0.1)


            Button:
                text: 'История'
                padding: (5, 5)
                size_hint: (0.1, 0.4)
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                on_press:
                    memory.opacity = 0
                    history_wrapper.opacity = 1

            Button:
                text: 'Память'
                padding: (5, 5)
                size_hint: (0.1, 0.4)
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                on_press:
                    memory.opacity = 1
                    history_wrapper.opacity = 0



        FloatLayout:

            BoxLayout
                id: history_wrapper
                orientation: 'vertical'
                pos_hint: {'right': 1, 'y': 0}

                ScrollView:

                    do_scroll_x: False
                    do_scroll_y: True

                    BoxLayout:
                        id: history
                        orientation: 'vertical'
                        size_hint_y: None
                        height: self.minimum_height

                        Label:
                            text: 'Label 3'
                            size_hint_y: None
                            height: 40


            BoxLayout
                orientation: 'vertical'
                pos_hint: {'right': 1, 'y': 0}
                id: memory
                Label:
                    id: memory_cash
                    text: ''


